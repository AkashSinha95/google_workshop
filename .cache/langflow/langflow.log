{"text": "2024-05-07 18:12:42 - ERROR    - base - To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x77380f58f1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7738257eb6d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7738257eb6d0>\n           └ <function get_command at 0x773825928940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x773825a77010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x773825a763b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x773827198c10>\n         │    └ <function MultiCommand.invoke at 0x773826e86710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x77380f5b74c0>\n           │               │       │       └ <function Command.invoke at 0x773826e86200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x77380f5b74c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x77380f7f30a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x77380f5b74c0>\n           │   │      │    └ <function run at 0x77380f7f39a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x773826e84f70>\n           └ <click.core.Context object at 0x77380f5b74c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x77380f58e8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x77380f5c89a0>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x77380f58e9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7738259488b0>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14085 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7738258091b0>)>\n    │    │        └ <Process name='Process-1' parent=14085 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14085 started>\n           │                └ <function DefaultContext.get_context at 0x773825809360>\n           └ <multiprocess.context.DefaultContext object at 0x773825b8e230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14085 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14085 started>\n    │    └ <function Popen._launch at 0x77380eb5c9d0>\n    └ <multiprocess.popen_fork.Popen object at 0x77380eb52c50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7738259491b0>\n           └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x773825948820>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14085 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14085 started>\n    │    └ <function run_langflow at 0x77380f58f130>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x77380f5c89a0>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x773825927a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x77380ebd0ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x77380ebd1000>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x77380ebd0f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x77380ea8beb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x77380eab0160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x77380eab0280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n           │       └ <function _patch_asyncio.<locals>.run at 0x77380eab0790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x77380ebeb990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x77380e88ce50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x77380e88cdc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x77380e88cee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x773825826320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7738094ff1b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7737e793a950>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x77380e881210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7737e793a950>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7738244530a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x77380e8813f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7737e7799ff0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x77380e8813f0>\n          └ <function wrap_app_handling_exceptions at 0x77382440c8b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x77380f5c8fd0>>\n          └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x77382440e050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x77380f58d120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7737e7799c60>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x77380dd38550>\n          └ <function wrap_app_handling_exceptions at 0x77382440c8b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd385e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x77380dd38550>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7737e7799c60>\n                     └ <function get_request_handler.<locals>.app at 0x77380f58d3f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x77382440eef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7737e7798190>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x77380f829a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x77380f5cacb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x77380f916cb0>\n              └ Graph:\n                Nodes: ['ChatInput-RGij7', 'ChatOutput-lELeW', 'VertexAiModel-Ydfi7']\n                Connections:\n                VertexAiModel-Ydfi7 --> ChatOutput-...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7738109697e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x773810969480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x773811181a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'dude', 'code': 'from typing import List, Optional\\n\\nfrom langchain_core.messages.base import BaseMessage\\n\\...\n                 └ <function instantiate_custom_component at 0x773810916ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'dude', 'location': 'us-central1', 'max_output_tokens': 128, 'model_name': 'gemini-1.5-pro-preview-0409', 'pr...\n                   │                └ <function ChatVertexAIComponent.build at 0x77380dd38af0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x77380963fb20>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:40.197087", "seconds": 40.197087}, "exception": {"type": "ImportError", "value": "To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 14126, "name": "MainProcess"}, "thread": {"id": 131083065578560, "name": "MainThread"}, "time": {"repr": "2024-05-07 18:12:42.788544+00:00", "timestamp": 1715105562.788544}}}
{"text": "2024-05-07 18:12:43 - ERROR    - base - Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x773811181a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'dude', 'code': 'from typing import List, Optional\\n\\nfrom langchain_core.messages.base import BaseMessage\\n\\...\n                 └ <function instantiate_custom_component at 0x773810916ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'dude', 'location': 'us-central1', 'max_output_tokens': 128, 'model_name': 'gemini-1.5-pro-preview-0409', 'pr...\n                   │                └ <function ChatVertexAIComponent.build at 0x77380dd38af0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x77380963fb20>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x77380f58f1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7738257eb6d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7738257eb6d0>\n           └ <function get_command at 0x773825928940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x773825a77010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x773825a763b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x773827198c10>\n         │    └ <function MultiCommand.invoke at 0x773826e86710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x77380f5b74c0>\n           │               │       │       └ <function Command.invoke at 0x773826e86200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x77380f5b74c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x77380f7f30a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x77380f5b74c0>\n           │   │      │    └ <function run at 0x77380f7f39a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x773826e84f70>\n           └ <click.core.Context object at 0x77380f5b74c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x77380f58e8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x77380f5c89a0>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x77380f58e9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7738259488b0>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14085 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7738258091b0>)>\n    │    │        └ <Process name='Process-1' parent=14085 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14085 started>\n           │                └ <function DefaultContext.get_context at 0x773825809360>\n           └ <multiprocess.context.DefaultContext object at 0x773825b8e230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14085 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14085 started>\n    │    └ <function Popen._launch at 0x77380eb5c9d0>\n    └ <multiprocess.popen_fork.Popen object at 0x77380eb52c50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7738259491b0>\n           └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x773825948820>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14085 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14085 started>\n    │    └ <function run_langflow at 0x77380f58f130>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x77380f5c89a0>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x773825927a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x77380ebd0ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x77380ebd1000>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x77380ebd0f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x77380ea8beb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x77380eab0160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x77380eab0280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n           │       └ <function _patch_asyncio.<locals>.run at 0x77380eab0790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x77380ebeb990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x77380e88ce50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x77380e88cdc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x77380e88cee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x773825826320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7738094ff1b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7737e793a950>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x77380e881210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7737e793a950>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7738244530a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x77380e8813f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7737e7799ff0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x77380e8813f0>\n          └ <function wrap_app_handling_exceptions at 0x77382440c8b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x77380f5c8fd0>>\n          └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x77382440e050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x77380f58d120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7737e7799c60>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x77380dd38550>\n          └ <function wrap_app_handling_exceptions at 0x77382440c8b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd385e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x77380dd38550>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7737e7799c60>\n                     └ <function get_request_handler.<locals>.app at 0x77380f58d3f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x77382440eef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7737e7798190>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x77380f829a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x77380f5cacb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x77380f916cb0>\n              └ Graph:\n                Nodes: ['ChatInput-RGij7', 'ChatOutput-lELeW', 'VertexAiModel-Ydfi7']\n                Connections:\n                VertexAiModel-Ydfi7 --> ChatOutput-...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7738109697e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x773810969480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:40.459262", "seconds": 40.459262}, "exception": {"type": "ValueError", "value": "Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 14126, "name": "MainProcess"}, "thread": {"id": 131083065578560, "name": "MainThread"}, "time": {"repr": "2024-05-07 18:12:43.050719+00:00", "timestamp": 1715105563.050719}}}
{"text": "2024-05-07 18:12:43 - ERROR    - chat - Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x773811181a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'dude', 'code': 'from typing import List, Optional\\n\\nfrom langchain_core.messages.base import BaseMessage\\n\\...\n                 └ <function instantiate_custom_component at 0x773810916ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'dude', 'location': 'us-central1', 'max_output_tokens': 128, 'model_name': 'gemini-1.5-pro-preview-0409', 'pr...\n                   │                └ <function ChatVertexAIComponent.build at 0x77380dd38af0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x77380963fb20>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x77380f58f1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7738257eb6d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7738257eb6d0>\n           └ <function get_command at 0x773825928940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x773825a77010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x773825a763b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x773827198c10>\n         │    └ <function MultiCommand.invoke at 0x773826e86710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x77380f5b74c0>\n           │               │       │       └ <function Command.invoke at 0x773826e86200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x77380f5b74c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x77380f7f30a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x77380f5b74c0>\n           │   │      │    └ <function run at 0x77380f7f39a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x773826e84f70>\n           └ <click.core.Context object at 0x77380f5b74c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x77380f58e8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x77380f5c89a0>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x77380f58e9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7738259488b0>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14085 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7738258091b0>)>\n    │    │        └ <Process name='Process-1' parent=14085 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14085 started>\n           │                └ <function DefaultContext.get_context at 0x773825809360>\n           └ <multiprocess.context.DefaultContext object at 0x773825b8e230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14085 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14085 started>\n    │    └ <function Popen._launch at 0x77380eb5c9d0>\n    └ <multiprocess.popen_fork.Popen object at 0x77380eb52c50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7738259491b0>\n           └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x773825948820>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14085 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14085 started>\n    │    └ <function run_langflow at 0x77380f58f130>\n    └ <Process name='Process-1' parent=14085 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x77380f5c89a0>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x773825927a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x77380ebd0ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x77380ebd1000>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x77380ebd0f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x77380eb52020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x77380ea8beb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x77380eab0160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x77380eab0280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x77380f5c8a30>\n           │       └ <function _patch_asyncio.<locals>.run at 0x77380eab0790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x77380ebeb990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x77380e88ce50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x77380e88cdc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x77380e88cee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x773825826320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7738094ff1b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7737e793a950>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x77380e881210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7737e793a950>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7738244530a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x77380e8813f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x77380e881270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7737e7799ff0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x77380e8813f0>\n          └ <function wrap_app_handling_exceptions at 0x77382440c8b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x77380f5c8fd0>>\n          └ <fastapi.routing.APIRouter object at 0x77380f5c8fd0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x77382440e050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x77380f58d120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd38670>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7737e7799c60>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x77380dd38550>\n          └ <function wrap_app_handling_exceptions at 0x77382440c8b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x77380dd385e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7737e793a9e0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x77380dd38550>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7737e7799c60>\n                     └ <function get_request_handler.<locals>.app at 0x77380f58d3f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x77382440eef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7737e7798190>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x77380f829a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x77380f5cacb0>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x77380f916cb0>\n              └ Graph:\n                Nodes: ['ChatInput-RGij7', 'ChatOutput-lELeW', 'VertexAiModel-Ydfi7']\n                Connections:\n                VertexAiModel-Ydfi7 --> ChatOutput-...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7738109697e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x773810969480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-Ydfi7, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:40.962493", "seconds": 40.962493}, "exception": {"type": "ValueError", "value": "Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 14126, "name": "MainProcess"}, "thread": {"id": 131083065578560, "name": "MainThread"}, "time": {"repr": "2024-05-07 18:12:43.553950+00:00", "timestamp": 1715105563.55395}}}
{"text": "2024-05-07 21:10:45 - ERROR    - base - Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b751bbc0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506290>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506290>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259e816df90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259e816e440>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259b7505c60>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259b7505c60>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259e816e440>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259b7505d80>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b78085b0>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:57:20.367757", "seconds": 10640.367757}, "exception": {"type": "ValueError", "value": "Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "Invalid inputs provided.", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:10:45.737042+00:00", "timestamp": 1715116245.737042}}}
{"text": "2024-05-07 21:10:46 - ERROR    - base - Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259b7505d80>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b78085b0>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b751bbc0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506290>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506290>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259e816df90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259e816e440>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259b7505c60>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259b7505c60>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259e816e440>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:57:20.652252", "seconds": 10640.652252}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:10:46.021537+00:00", "timestamp": 1715116246.021537}}}
{"text": "2024-05-07 21:10:46 - ERROR    - chat - Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259b7505d80>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b78085b0>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b751bbc0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506290>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506290>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259e816df90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7505480>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259e816e440>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259b7505c60>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7670f70>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259b7505c60>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259e816e440>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:57:21.145299", "seconds": 10641.145299}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:10:46.514584+00:00", "timestamp": 1715116246.514584}}}
{"text": "2024-05-07 21:11:36 - ERROR    - base - Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b7518970>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259ab9cfb50>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259ab9cfb50>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b1316ad0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b1315a20>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259ab9ce9e0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cf760>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259ab9ce9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b1315a20>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259ab9cf7f0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b134d210>\n  File \"<string>\", line 123, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/AstraDB.py\", line 141, in build\n    vector_store = AstraDBVectorStore(\n                   └ <class 'langchain_astradb.vectorstores.AstraDBVectorStore'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/vectorstores.py\", line 263, in __init__\n    self.astra_env = _AstraDBCollectionEnvironment(\n    │                └ <class 'langchain_astradb.utils.astradb._AstraDBCollectionEnvironment'>\n    └ <langchain_astradb.vectorstores.AstraDBVectorStore object at 0x7259b134c580>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/utils/astradb.py\", line 165, in __init__\n    self.astra_db.create_collection(\n    │    │        └ <function AstraDB.create_collection at 0x7259db6101f0>\n    │    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n    └ <langchain_astradb.utils.astradb._AstraDBCollectionEnvironment object at 0x7259b7271d20>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2280, in create_collection\n    self._request(\n    │    └ <function AstraDB._request at 0x7259db610040>\n    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2170, in _request\n    direct_response = api_request(\n                      └ <function api_request at 0x7259db600b80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/api.py\", line 93, in api_request\n    raw_response.raise_for_status()\n    │            └ <function Response.raise_for_status at 0x7259f5f9bac0>\n    └ <Response [401 Unauthorized]>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/httpx/_models.py\", line 761, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\n          │               │                │                 └ <Response [401 Unauthorized]>\n          │               │                └ <Request('POST', 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace')>\n          │               └ \"Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/j...\n          └ <class 'httpx.HTTPStatusError'>\n\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n", "record": {"elapsed": {"repr": "2:58:10.894166", "seconds": 10690.894166}, "exception": {"type": "HTTPStatusError", "value": "Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:11:36.263451+00:00", "timestamp": 1715116296.263451}}}
{"text": "2024-05-07 21:11:37 - ERROR    - base - Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259ab9cf7f0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b134d210>\n  File \"<string>\", line 123, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/AstraDB.py\", line 141, in build\n    vector_store = AstraDBVectorStore(\n                   └ <class 'langchain_astradb.vectorstores.AstraDBVectorStore'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/vectorstores.py\", line 263, in __init__\n    self.astra_env = _AstraDBCollectionEnvironment(\n    │                └ <class 'langchain_astradb.utils.astradb._AstraDBCollectionEnvironment'>\n    └ <langchain_astradb.vectorstores.AstraDBVectorStore object at 0x7259b134c580>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/utils/astradb.py\", line 165, in __init__\n    self.astra_db.create_collection(\n    │    │        └ <function AstraDB.create_collection at 0x7259db6101f0>\n    │    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n    └ <langchain_astradb.utils.astradb._AstraDBCollectionEnvironment object at 0x7259b7271d20>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2280, in create_collection\n    self._request(\n    │    └ <function AstraDB._request at 0x7259db610040>\n    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2170, in _request\n    direct_response = api_request(\n                      └ <function api_request at 0x7259db600b80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/api.py\", line 93, in api_request\n    raw_response.raise_for_status()\n    │            └ <function Response.raise_for_status at 0x7259f5f9bac0>\n    └ <Response [401 Unauthorized]>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/httpx/_models.py\", line 761, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\n          │               │                │                 └ <Response [401 Unauthorized]>\n          │               │                └ <Request('POST', 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace')>\n          │               └ \"Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/j...\n          └ <class 'httpx.HTTPStatusError'>\n\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b7518970>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259ab9cfb50>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259ab9cfb50>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b1316ad0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b1315a20>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259ab9ce9e0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cf760>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259ab9ce9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b1315a20>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n", "record": {"elapsed": {"repr": "2:58:12.003711", "seconds": 10692.003711}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:11:37.372996+00:00", "timestamp": 1715116297.372996}}}
{"text": "2024-05-07 21:11:38 - ERROR    - chat - Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259ab9cf7f0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b134d210>\n  File \"<string>\", line 123, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/AstraDB.py\", line 141, in build\n    vector_store = AstraDBVectorStore(\n                   └ <class 'langchain_astradb.vectorstores.AstraDBVectorStore'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/vectorstores.py\", line 263, in __init__\n    self.astra_env = _AstraDBCollectionEnvironment(\n    │                └ <class 'langchain_astradb.utils.astradb._AstraDBCollectionEnvironment'>\n    └ <langchain_astradb.vectorstores.AstraDBVectorStore object at 0x7259b134c580>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/utils/astradb.py\", line 165, in __init__\n    self.astra_db.create_collection(\n    │    │        └ <function AstraDB.create_collection at 0x7259db6101f0>\n    │    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n    └ <langchain_astradb.utils.astradb._AstraDBCollectionEnvironment object at 0x7259b7271d20>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2280, in create_collection\n    self._request(\n    │    └ <function AstraDB._request at 0x7259db610040>\n    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2170, in _request\n    direct_response = api_request(\n                      └ <function api_request at 0x7259db600b80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/api.py\", line 93, in api_request\n    raw_response.raise_for_status()\n    │            └ <function Response.raise_for_status at 0x7259f5f9bac0>\n    └ <Response [401 Unauthorized]>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/httpx/_models.py\", line 761, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\n          │               │                │                 └ <Response [401 Unauthorized]>\n          │               │                └ <Request('POST', 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace')>\n          │               └ \"Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/j...\n          └ <class 'httpx.HTTPStatusError'>\n\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b7518970>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259ab9cfb50>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259ab9cfb50>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b1316ad0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cfc70>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b1315a20>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259ab9ce9e0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259ab9cf760>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259ab9cf490>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259ab9ce9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b1315a20>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n", "record": {"elapsed": {"repr": "2:58:12.927756", "seconds": 10692.927756}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:11:38.297041+00:00", "timestamp": 1715116298.297041}}}
{"text": "2024-05-07 21:12:01 - ERROR    - base - Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b78b7ca0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259abf6b910>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259abf6b910>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b81faaa0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b81fa0e0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259abf93400>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf92c20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259abf93400>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b81fa0e0>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259abfc8af0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b81fa5c0>\n  File \"<string>\", line 123, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/AstraDB.py\", line 141, in build\n    vector_store = AstraDBVectorStore(\n                   └ <class 'langchain_astradb.vectorstores.AstraDBVectorStore'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/vectorstores.py\", line 263, in __init__\n    self.astra_env = _AstraDBCollectionEnvironment(\n    │                └ <class 'langchain_astradb.utils.astradb._AstraDBCollectionEnvironment'>\n    └ <langchain_astradb.vectorstores.AstraDBVectorStore object at 0x7259b81fa7a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/utils/astradb.py\", line 165, in __init__\n    self.astra_db.create_collection(\n    │    │        └ <function AstraDB.create_collection at 0x7259db6101f0>\n    │    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n    └ <langchain_astradb.utils.astradb._AstraDBCollectionEnvironment object at 0x7259b81fa890>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2280, in create_collection\n    self._request(\n    │    └ <function AstraDB._request at 0x7259db610040>\n    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2170, in _request\n    direct_response = api_request(\n                      └ <function api_request at 0x7259db600b80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/api.py\", line 93, in api_request\n    raw_response.raise_for_status()\n    │            └ <function Response.raise_for_status at 0x7259f5f9bac0>\n    └ <Response [401 Unauthorized]>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/httpx/_models.py\", line 761, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\n          │               │                │                 └ <Response [401 Unauthorized]>\n          │               │                └ <Request('POST', 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace')>\n          │               └ \"Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/j...\n          └ <class 'httpx.HTTPStatusError'>\n\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n", "record": {"elapsed": {"repr": "2:58:36.366819", "seconds": 10716.366819}, "exception": {"type": "HTTPStatusError", "value": "Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:12:01.736104+00:00", "timestamp": 1715116321.736104}}}
{"text": "2024-05-07 21:12:02 - ERROR    - base - Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259abfc8af0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b81fa5c0>\n  File \"<string>\", line 123, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/AstraDB.py\", line 141, in build\n    vector_store = AstraDBVectorStore(\n                   └ <class 'langchain_astradb.vectorstores.AstraDBVectorStore'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/vectorstores.py\", line 263, in __init__\n    self.astra_env = _AstraDBCollectionEnvironment(\n    │                └ <class 'langchain_astradb.utils.astradb._AstraDBCollectionEnvironment'>\n    └ <langchain_astradb.vectorstores.AstraDBVectorStore object at 0x7259b81fa7a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/utils/astradb.py\", line 165, in __init__\n    self.astra_db.create_collection(\n    │    │        └ <function AstraDB.create_collection at 0x7259db6101f0>\n    │    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n    └ <langchain_astradb.utils.astradb._AstraDBCollectionEnvironment object at 0x7259b81fa890>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2280, in create_collection\n    self._request(\n    │    └ <function AstraDB._request at 0x7259db610040>\n    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2170, in _request\n    direct_response = api_request(\n                      └ <function api_request at 0x7259db600b80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/api.py\", line 93, in api_request\n    raw_response.raise_for_status()\n    │            └ <function Response.raise_for_status at 0x7259f5f9bac0>\n    └ <Response [401 Unauthorized]>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/httpx/_models.py\", line 761, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\n          │               │                │                 └ <Response [401 Unauthorized]>\n          │               │                └ <Request('POST', 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace')>\n          │               └ \"Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/j...\n          └ <class 'httpx.HTTPStatusError'>\n\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b78b7ca0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259abf6b910>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259abf6b910>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b81faaa0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b81fa0e0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259abf93400>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf92c20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259abf93400>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b81fa0e0>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n", "record": {"elapsed": {"repr": "2:58:37.069457", "seconds": 10717.069457}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:12:02.438742+00:00", "timestamp": 1715116322.438742}}}
{"text": "2024-05-07 21:12:03 - ERROR    - chat - Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259abfc8af0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b81fa5c0>\n  File \"<string>\", line 123, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/AstraDB.py\", line 141, in build\n    vector_store = AstraDBVectorStore(\n                   └ <class 'langchain_astradb.vectorstores.AstraDBVectorStore'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/vectorstores.py\", line 263, in __init__\n    self.astra_env = _AstraDBCollectionEnvironment(\n    │                └ <class 'langchain_astradb.utils.astradb._AstraDBCollectionEnvironment'>\n    └ <langchain_astradb.vectorstores.AstraDBVectorStore object at 0x7259b81fa7a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langchain_astradb/utils/astradb.py\", line 165, in __init__\n    self.astra_db.create_collection(\n    │    │        └ <function AstraDB.create_collection at 0x7259db6101f0>\n    │    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n    └ <langchain_astradb.utils.astradb._AstraDBCollectionEnvironment object at 0x7259b81fa890>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2280, in create_collection\n    self._request(\n    │    └ <function AstraDB._request at 0x7259db610040>\n    └ AstraDB[endpoint=\"https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com\", keyspace=\"default_keyspace\"]\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/db.py\", line 2170, in _request\n    direct_response = api_request(\n                      └ <function api_request at 0x7259db600b80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/astrapy/api.py\", line 93, in api_request\n    raw_response.raise_for_status()\n    │            └ <function Response.raise_for_status at 0x7259f5f9bac0>\n    └ <Response [401 Unauthorized]>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/httpx/_models.py\", line 761, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\n          │               │                │                 └ <Response [401 Unauthorized]>\n          │               │                └ <Request('POST', 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace')>\n          │               └ \"Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/j...\n          └ <class 'httpx.HTTPStatusError'>\n\nhttpx.HTTPStatusError: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b78b7ca0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259abf6b910>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259abf6b910>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b81faaa0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf93490>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b81fa0e0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259abf93400>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abf92c20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259abf6b7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259abf93400>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b81fa0e0>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401\n", "record": {"elapsed": {"repr": "2:58:38.578752", "seconds": 10718.578752}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Astra DB Search: Client error '401 Unauthorized' for url 'https://7379723d-b1c9-4e3b-a80e-eeff16238d14-us-east1.apps.astra.datastax.com/api/json/v1/default_keyspace'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:12:03.948037+00:00", "timestamp": 1715116323.948037}}}
{"text": "2024-05-07 21:12:49 - ERROR    - base - Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b79400b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259e815a680>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259e815a680>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b80a0e20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b7757d30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259abfc4040>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc4160>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259abfc4040>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b7757d30>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259b75440d0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b7757610>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:59:24.161530", "seconds": 10764.16153}, "exception": {"type": "ValueError", "value": "Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "Invalid inputs provided.", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:12:49.530815+00:00", "timestamp": 1715116369.530815}}}
{"text": "2024-05-07 21:12:49 - ERROR    - base - Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259b75440d0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b7757610>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b79400b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259e815a680>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259e815a680>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b80a0e20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b7757d30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259abfc4040>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc4160>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259abfc4040>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b7757d30>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:59:24.366588", "seconds": 10764.366588}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:12:49.735873+00:00", "timestamp": 1715116369.735873}}}
{"text": "2024-05-07 21:12:50 - ERROR    - chat - Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259b75440d0>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b7757610>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b79400b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259e815a680>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259e815a680>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259b80a0e20>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc40d0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259b7757d30>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259abfc4040>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259abfc4160>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259e815ab00>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259abfc4040>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259b7757d30>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:59:24.904696", "seconds": 10764.904696}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:12:50.273981+00:00", "timestamp": 1715116370.273981}}}
{"text": "2024-05-07 21:13:16 - ERROR    - base - Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b7943d10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506320>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506320>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259e80c9480>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259e80c9450>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259b7507490>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b75072e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259b7507490>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259e80c9450>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259abf90430>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b80a2b00>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:59:51.088456", "seconds": 10791.088456}, "exception": {"type": "ValueError", "value": "Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "Invalid inputs provided.", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:13:16.457741+00:00", "timestamp": 1715116396.457741}}}
{"text": "2024-05-07 21:13:16 - ERROR    - base - Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259abf90430>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b80a2b00>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b7943d10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506320>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506320>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259e80c9480>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259e80c9450>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259b7507490>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b75072e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259b7507490>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259e80c9450>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:59:51.277531", "seconds": 10791.277531}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:13:16.646816+00:00", "timestamp": 1715116396.646816}}}
{"text": "2024-05-07 21:13:17 - ERROR    - chat - Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x7259e06f5a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                 └ <function instantiate_custom_component at 0x7259e0372ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'embedding': VertexAIEmbeddings(project=None, location='us-central1', request_parallelism=5, max_retries=6, stop=None, model...\n                   │                └ <function AstraDBSearchComponent.build at 0x7259abf90430>\n                   └ <langflow.utils.validate.AstraDBSearchComponent object at 0x7259b80a2b00>\n  File \"<string>\", line 141, in build\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/components/vectorstores/base/model.py\", line 44, in search_with_vector_store\n    raise ValueError(\"Invalid inputs provided.\")\n\nValueError: Invalid inputs provided.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x7259defeb1c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x7259f52636d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x7259f52636d0>\n           └ <function get_command at 0x7259f53a4940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x7259f54f3010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x7259f54f23b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x7259f6b98c10>\n         │    └ <function MultiCommand.invoke at 0x7259f68ca710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x7259dee134c0>\n           │               │       │       └ <function Command.invoke at 0x7259f68ca200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x7259dee134c0>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x7259df04f0a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x7259dee134c0>\n           │   │      │    └ <function run at 0x7259df04f9a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x7259f68c8f70>\n           └ <click.core.Context object at 0x7259dee134c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x7259defea8c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x7259defea9e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x7259f53c88b0>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x7259f52811b0>)>\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ None\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=14420 started>\n           │                └ <function DefaultContext.get_context at 0x7259f5281360>\n           └ <multiprocess.context.DefaultContext object at 0x7259f560a230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=14420 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=14420 started>\n    │    └ <function Popen._launch at 0x7259de5b89d0>\n    └ <multiprocess.popen_fork.Popen object at 0x7259de5aec50>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x7259f53c91b0>\n           └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x7259f53c8820>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=14420 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=14420 started>\n    │    └ <function run_langflow at 0x7259defeb130>\n    └ <Process name='Process-1' parent=14420 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x7259dee24c10>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x7259f53a3a30>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x7259de430ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x7259de431000>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x7259de430f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x7259de5ae020>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x7259de4e7eb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x7259de310160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x7259de310280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x7259dee249d0>\n           │       └ <function _patch_asyncio.<locals>.run at 0x7259de310790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x7259de44f990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x7259de3b8e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x7259de3b8dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x7259de3b8ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x7259f529e320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x7259b7943d10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506320>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x7259de3ad210>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x7259b7506320>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x7259f3f5b0a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x7259de3ad270>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x7259e80c9480>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x7259de3ad3f0>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x7259dee25510>>\n          └ <fastapi.routing.APIRouter object at 0x7259dee25510>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x7259f3f16050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x7259defe9120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b7507520>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x7259e80c9450>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x7259b7507490>\n          └ <function wrap_app_handling_exceptions at 0x7259f3f148b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x7259b75072e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x7259b7507400>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x7259b7507490>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x7259e80c9450>\n                     └ <function get_request_handler.<locals>.app at 0x7259defe93f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x7259f3f16ef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x7259bbb397e0>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x7259df289a20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x7259dee26ad0>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x7259df376cb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x7259e03c57e0>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'n...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x7259e03c5480>\n          └ Vertex(display_name=Astra DB Search, id=AstraDBSearch-iYFVs, data={'type': 'AstraDBSearch', 'node': {'template': {'embedding'...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Astra DB Search: Invalid inputs provided.\n", "record": {"elapsed": {"repr": "2:59:51.730239", "seconds": 10791.730239}, "exception": {"type": "ValueError", "value": "Error building vertex Astra DB Search: Invalid inputs provided.", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Astra DB Search: Invalid inputs provided.", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 14464, "name": "MainProcess"}, "thread": {"id": 125730725221440, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:13:17.099524+00:00", "timestamp": 1715116397.099524}}}
{"text": "2024-05-07 21:53:33 - ERROR    - base - To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x79f5164c31c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x79f52c6cf730>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x79f52c6cf730>\n           └ <function get_command at 0x79f52c810940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x79f52c963010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x79f52c9623b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x79f52e39cc10>\n         │    └ <function MultiCommand.invoke at 0x79f52dd72710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x79f5164eb520>\n           │               │       │       └ <function Command.invoke at 0x79f52dd72200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x79f5164eb520>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x79f5165270a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x79f5164eb520>\n           │   │      │    └ <function run at 0x79f5165279a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x79f52dd70f70>\n           └ <click.core.Context object at 0x79f5164eb520>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x79f5164c28c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x79f5164c29e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x79f52c8348b0>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x79f52c6ed1b0>)>\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ None\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=36386 started>\n           │                └ <function DefaultContext.get_context at 0x79f52c6ed360>\n           └ <multiprocess.context.DefaultContext object at 0x79f52cbbe230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=36386 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=36386 started>\n    │    └ <function Popen._launch at 0x79f515a909d0>\n    └ <multiprocess.popen_fork.Popen object at 0x79f515a86cb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x79f52c8351b0>\n           └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x79f52c834820>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ <function run_langflow at 0x79f5164c3130>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x79f52c80fa90>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x79f515908ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x79f515909000>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x79f515908f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x79f5159bfeb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x79f5159e4160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x79f5159e4280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n           │       └ <function _patch_asyncio.<locals>.run at 0x79f5159e4790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x79f515927990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x79f5157c0e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x79f5157c0dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x79f5157c0ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x79f52c70a320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x79f510175a80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4f44af880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x79f5157b5270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4f44af880>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x79f52b3630a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x79f4f449e8c0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x79f5164fd030>>\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x79f52b31a050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x79f5164c1120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x79f4eff00130>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x79f4f44fe320>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x79f4f44fe320>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x79f4eff00130>\n                     └ <function get_request_handler.<locals>.app at 0x79f5164c13f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x79f52b31aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x79f510152350>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x79f51675da20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x79f5164fed10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x79f51684acb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x79f51789d7e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x79f51789d480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x79f518009a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                 └ <function instantiate_custom_component at 0x79f51784aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                   │                └ <function ChatVertexAIComponent.build at 0x79f4f44fe7a0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x79f4eff5fd00>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:23.453663", "seconds": 23.453663}, "exception": {"type": "ImportError", "value": "To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 36423, "name": "MainProcess"}, "thread": {"id": 134093953877056, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:53:33.647554+00:00", "timestamp": 1715118813.647554}}}
{"text": "2024-05-07 21:53:33 - ERROR    - base - Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x79f518009a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                 └ <function instantiate_custom_component at 0x79f51784aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                   │                └ <function ChatVertexAIComponent.build at 0x79f4f44fe7a0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x79f4eff5fd00>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x79f5164c31c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x79f52c6cf730>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x79f52c6cf730>\n           └ <function get_command at 0x79f52c810940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x79f52c963010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x79f52c9623b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x79f52e39cc10>\n         │    └ <function MultiCommand.invoke at 0x79f52dd72710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x79f5164eb520>\n           │               │       │       └ <function Command.invoke at 0x79f52dd72200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x79f5164eb520>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x79f5165270a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x79f5164eb520>\n           │   │      │    └ <function run at 0x79f5165279a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x79f52dd70f70>\n           └ <click.core.Context object at 0x79f5164eb520>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x79f5164c28c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x79f5164c29e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x79f52c8348b0>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x79f52c6ed1b0>)>\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ None\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=36386 started>\n           │                └ <function DefaultContext.get_context at 0x79f52c6ed360>\n           └ <multiprocess.context.DefaultContext object at 0x79f52cbbe230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=36386 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=36386 started>\n    │    └ <function Popen._launch at 0x79f515a909d0>\n    └ <multiprocess.popen_fork.Popen object at 0x79f515a86cb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x79f52c8351b0>\n           └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x79f52c834820>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ <function run_langflow at 0x79f5164c3130>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x79f52c80fa90>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x79f515908ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x79f515909000>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x79f515908f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x79f5159bfeb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x79f5159e4160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x79f5159e4280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n           │       └ <function _patch_asyncio.<locals>.run at 0x79f5159e4790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x79f515927990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x79f5157c0e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x79f5157c0dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x79f5157c0ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x79f52c70a320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x79f510175a80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4f44af880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x79f5157b5270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4f44af880>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x79f52b3630a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x79f4f449e8c0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x79f5164fd030>>\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x79f52b31a050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x79f5164c1120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x79f4eff00130>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x79f4f44fe320>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x79f4f44fe320>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x79f4eff00130>\n                     └ <function get_request_handler.<locals>.app at 0x79f5164c13f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x79f52b31aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x79f510152350>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x79f51675da20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x79f5164fed10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x79f51684acb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x79f51789d7e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x79f51789d480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:23.717920", "seconds": 23.71792}, "exception": {"type": "ValueError", "value": "Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 36423, "name": "MainProcess"}, "thread": {"id": 134093953877056, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:53:33.911811+00:00", "timestamp": 1715118813.911811}}}
{"text": "2024-05-07 21:53:34 - ERROR    - chat - Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x79f518009a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                 └ <function instantiate_custom_component at 0x79f51784aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                   │                └ <function ChatVertexAIComponent.build at 0x79f4f44fe7a0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x79f4eff5fd00>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x79f5164c31c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x79f52c6cf730>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x79f52c6cf730>\n           └ <function get_command at 0x79f52c810940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x79f52c963010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x79f52c9623b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x79f52e39cc10>\n         │    └ <function MultiCommand.invoke at 0x79f52dd72710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x79f5164eb520>\n           │               │       │       └ <function Command.invoke at 0x79f52dd72200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x79f5164eb520>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x79f5165270a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x79f5164eb520>\n           │   │      │    └ <function run at 0x79f5165279a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x79f52dd70f70>\n           └ <click.core.Context object at 0x79f5164eb520>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x79f5164c28c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x79f5164c29e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x79f52c8348b0>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x79f52c6ed1b0>)>\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ None\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=36386 started>\n           │                └ <function DefaultContext.get_context at 0x79f52c6ed360>\n           └ <multiprocess.context.DefaultContext object at 0x79f52cbbe230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=36386 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=36386 started>\n    │    └ <function Popen._launch at 0x79f515a909d0>\n    └ <multiprocess.popen_fork.Popen object at 0x79f515a86cb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x79f52c8351b0>\n           └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x79f52c834820>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ <function run_langflow at 0x79f5164c3130>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x79f52c80fa90>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x79f515908ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x79f515909000>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x79f515908f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x79f5159bfeb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x79f5159e4160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x79f5159e4280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n           │       └ <function _patch_asyncio.<locals>.run at 0x79f5159e4790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x79f515927990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x79f5157c0e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x79f5157c0dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x79f5157c0ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x79f52c70a320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x79f510175a80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4f44af880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x79f5157b5270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4f44af880>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x79f52b3630a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x79f4f449e8c0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x79f5164fd030>>\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x79f52b31a050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x79f5164c1120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe3b0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x79f4eff00130>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x79f4f44fe320>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4f44fe440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4f44af7f0>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x79f4f44fe320>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x79f4eff00130>\n                     └ <function get_request_handler.<locals>.app at 0x79f5164c13f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x79f52b31aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x79f510152350>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x79f51675da20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x79f5164fed10>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x79f51684acb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x79f51789d7e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x79f51789d480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:24.194515", "seconds": 24.194515}, "exception": {"type": "ValueError", "value": "Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 36423, "name": "MainProcess"}, "thread": {"id": 134093953877056, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:53:34.388406+00:00", "timestamp": 1715118814.388406}}}
{"text": "2024-05-07 21:53:46 - ERROR    - base - To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x79f5164c31c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x79f52c6cf730>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x79f52c6cf730>\n           └ <function get_command at 0x79f52c810940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x79f52c963010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x79f52c9623b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x79f52e39cc10>\n         │    └ <function MultiCommand.invoke at 0x79f52dd72710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x79f5164eb520>\n           │               │       │       └ <function Command.invoke at 0x79f52dd72200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x79f5164eb520>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x79f5165270a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x79f5164eb520>\n           │   │      │    └ <function run at 0x79f5165279a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x79f52dd70f70>\n           └ <click.core.Context object at 0x79f5164eb520>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x79f5164c28c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x79f5164c29e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x79f52c8348b0>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x79f52c6ed1b0>)>\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ None\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=36386 started>\n           │                └ <function DefaultContext.get_context at 0x79f52c6ed360>\n           └ <multiprocess.context.DefaultContext object at 0x79f52cbbe230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=36386 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=36386 started>\n    │    └ <function Popen._launch at 0x79f515a909d0>\n    └ <multiprocess.popen_fork.Popen object at 0x79f515a86cb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x79f52c8351b0>\n           └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x79f52c834820>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ <function run_langflow at 0x79f5164c3130>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x79f52c80fa90>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x79f515908ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x79f515909000>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x79f515908f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x79f5159bfeb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x79f5159e4160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x79f5159e4280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n           │       └ <function _patch_asyncio.<locals>.run at 0x79f5159e4790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x79f515927990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x79f5157c0e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x79f5157c0dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x79f5157c0ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x79f52c70a320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x79f4eed81a80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4eed551b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x79f5157b5270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4eed551b0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x79f52b3630a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x79f5109efc40>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x79f5164fd030>>\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x79f52b31a050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x79f5164c1120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x79f5109eec50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x79f4eed56d40>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed55a20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x79f4eed56d40>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x79f5109eec50>\n                     └ <function get_request_handler.<locals>.app at 0x79f5164c13f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x79f52b31aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x79f510152350>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x79f51675da20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x79f5164fed10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x79f51684acb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x79f51789d7e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x79f51789d480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x79f518009a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                 └ <function instantiate_custom_component at 0x79f51784aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                   │                └ <function ChatVertexAIComponent.build at 0x79f4eed569e0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x79f4eeb3bc40>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:35.860637", "seconds": 35.860637}, "exception": {"type": "ImportError", "value": "To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py"}, "function": "_get_and_instantiate_class", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 623, "message": "To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "base", "name": "langflow.graph.vertex.base", "process": {"id": 36423, "name": "MainProcess"}, "thread": {"id": 134093953877056, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:53:46.054528+00:00", "timestamp": 1715118826.054528}}}
{"text": "2024-05-07 21:53:46 - ERROR    - base - Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x79f518009a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                 └ <function instantiate_custom_component at 0x79f51784aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                   │                └ <function ChatVertexAIComponent.build at 0x79f4eed569e0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x79f4eeb3bc40>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x79f5164c31c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x79f52c6cf730>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x79f52c6cf730>\n           └ <function get_command at 0x79f52c810940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x79f52c963010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x79f52c9623b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x79f52e39cc10>\n         │    └ <function MultiCommand.invoke at 0x79f52dd72710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x79f5164eb520>\n           │               │       │       └ <function Command.invoke at 0x79f52dd72200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x79f5164eb520>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x79f5165270a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x79f5164eb520>\n           │   │      │    └ <function run at 0x79f5165279a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x79f52dd70f70>\n           └ <click.core.Context object at 0x79f5164eb520>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x79f5164c28c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x79f5164c29e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x79f52c8348b0>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x79f52c6ed1b0>)>\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ None\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=36386 started>\n           │                └ <function DefaultContext.get_context at 0x79f52c6ed360>\n           └ <multiprocess.context.DefaultContext object at 0x79f52cbbe230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=36386 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=36386 started>\n    │    └ <function Popen._launch at 0x79f515a909d0>\n    └ <multiprocess.popen_fork.Popen object at 0x79f515a86cb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x79f52c8351b0>\n           └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x79f52c834820>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ <function run_langflow at 0x79f5164c3130>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x79f52c80fa90>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x79f515908ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x79f515909000>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x79f515908f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x79f5159bfeb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x79f5159e4160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x79f5159e4280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n           │       └ <function _patch_asyncio.<locals>.run at 0x79f5159e4790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x79f515927990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x79f5157c0e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x79f5157c0dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x79f5157c0ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x79f52c70a320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x79f4eed81a80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4eed551b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x79f5157b5270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4eed551b0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x79f52b3630a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x79f5109efc40>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x79f5164fd030>>\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x79f52b31a050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x79f5164c1120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x79f5109eec50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x79f4eed56d40>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed55a20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x79f4eed56d40>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x79f5109eec50>\n                     └ <function get_request_handler.<locals>.app at 0x79f5164c13f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x79f52b31aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x79f510152350>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x79f51675da20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x79f5164fed10>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x79f51684acb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x79f51789d7e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x79f51789d480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:36.389600", "seconds": 36.3896}, "exception": {"type": "ValueError", "value": "Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "base.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 706, "message": "Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "base", "name": "langflow.graph.graph.base", "process": {"id": 36423, "name": "MainProcess"}, "thread": {"id": 134093953877056, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:53:46.583491+00:00", "timestamp": 1715118826.583491}}}
{"text": "2024-05-07 21:53:47 - ERROR    - chat - Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\nTraceback (most recent call last):\n\n  File \"<string>\", line 108, in build\n\nModuleNotFoundError: No module named 'langchain_google_vertexai'\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 617, in _get_and_instantiate_class\n    result = await loading.instantiate_class(\n                   │       └ <function instantiate_class at 0x79f518009a20>\n                   └ <module 'langflow.interface.initialize.loading' from '/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/in...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 61, in instantiate_class\n    return await instantiate_custom_component(params, user_id, vertex)\n                 │                            │       │        └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n                 │                            │       └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n                 │                            └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                 └ <function instantiate_custom_component at 0x79f51784aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/interface/initialize/loading.py\", line 186, in instantiate_custom_component\n    build_result = custom_component.build(**params_copy)\n                   │                │       └ {'input_value': 'System: You are a personal shopping assistant.  Provide the user with friendly guidance as to which products...\n                   │                └ <function ChatVertexAIComponent.build at 0x79f4eed569e0>\n                   └ <langflow.utils.validate.ChatVertexAIComponent object at 0x79f4eeb3bc40>\n  File \"<string>\", line 110, in build\n\nImportError: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/root/miniconda3/envs/langflow/bin/langflow\", line 8, in <module>\n    sys.exit(main())\n    │   │    └ <function main at 0x79f5164c31c0>\n    │   └ <built-in function exit>\n    └ <module 'sys' (built-in)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 471, in main\n    app()\n    └ <typer.main.Typer object at 0x79f52c6cf730>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 309, in __call__\n    return get_command(self)(*args, **kwargs)\n           │           │      │       └ {}\n           │           │      └ ()\n           │           └ <typer.main.Typer object at 0x79f52c6cf730>\n           └ <function get_command at 0x79f52c810940>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1157, in __call__\n    return self.main(*args, **kwargs)\n           │    │     │       └ {}\n           │    │     └ ()\n           │    └ <function TyperGroup.main at 0x79f52c963010>\n           └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 723, in main\n    return _main(\n           └ <function _main at 0x79f52c9623b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/core.py\", line 193, in _main\n    rv = self.invoke(ctx)\n         │    │      └ <click.core.Context object at 0x79f52e39cc10>\n         │    └ <function MultiCommand.invoke at 0x79f52dd72710>\n         └ <TyperGroup >\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1688, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n           │               │       │       │      └ <click.core.Context object at 0x79f5164eb520>\n           │               │       │       └ <function Command.invoke at 0x79f52dd72200>\n           │               │       └ <TyperCommand run>\n           │               └ <click.core.Context object at 0x79f5164eb520>\n           └ <function MultiCommand.invoke.<locals>._process_result at 0x79f5165270a0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 1434, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           │   │      │    │           │   └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           │   │      │    │           └ <click.core.Context object at 0x79f5164eb520>\n           │   │      │    └ <function run at 0x79f5165279a0>\n           │   │      └ <TyperCommand run>\n           │   └ <function Context.invoke at 0x79f52dd70f70>\n           └ <click.core.Context object at 0x79f5164eb520>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/click/core.py\", line 783, in invoke\n    return __callback(*args, **kwargs)\n                       │       └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n                       └ ()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/typer/main.py\", line 692, in wrapper\n    return callback(**use_params)\n           │          └ {'host': '0.0.0.0', 'workers': 1, 'timeout': 300, 'port': 7860, 'components_path': PosixPath('/root/miniconda3/envs/langflow/...\n           └ <function run at 0x79f5164c28c0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 163, in run\n    process = run_on_mac_or_linux(host, port, log_level, options, app)\n              │                   │     │     │          │        └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n              │                   │     │     │          └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n              │                   │     │     └ 'critical'\n              │                   │     └ 7860\n              │                   └ '0.0.0.0'\n              └ <function run_on_mac_or_linux at 0x79f5164c29e0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 186, in run_on_mac_or_linux\n    webapp_process.start()\n    │              └ <function BaseProcess.start at 0x79f52c8348b0>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 121, in start\n    self._popen = self._Popen(self)\n    │    │        │    │      └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ <staticmethod(<function Process._Popen at 0x79f52c6ed1b0>)>\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ None\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 224, in _Popen\n    return _default_context.get_context().Process._Popen(process_obj)\n           │                │                            └ <Process name='Process-1' parent=36386 started>\n           │                └ <function DefaultContext.get_context at 0x79f52c6ed360>\n           └ <multiprocess.context.DefaultContext object at 0x79f52cbbe230>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/context.py\", line 281, in _Popen\n    return Popen(process_obj)\n           │     └ <Process name='Process-1' parent=36386 started>\n           └ <class 'multiprocess.popen_fork.Popen'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 19, in __init__\n    self._launch(process_obj)\n    │    │       └ <Process name='Process-1' parent=36386 started>\n    │    └ <function Popen._launch at 0x79f515a909d0>\n    └ <multiprocess.popen_fork.Popen object at 0x79f515a86cb0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/popen_fork.py\", line 71, in _launch\n    code = process_obj._bootstrap(parent_sentinel=child_r)\n           │           │                          └ 6\n           │           └ <function BaseProcess._bootstrap at 0x79f52c8351b0>\n           └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 314, in _bootstrap\n    self.run()\n    │    └ <function BaseProcess.run at 0x79f52c834820>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/multiprocess/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Process name='Process-1' parent=36386 started>\n    │    │        │    └ ('0.0.0.0', 7860, 'critical', {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.Langflo...\n    │    │        └ <Process name='Process-1' parent=36386 started>\n    │    └ <function run_langflow at 0x79f5164c3130>\n    └ <Process name='Process-1' parent=36386 started>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/__main__.py\", line 407, in run_langflow\n    LangflowApplication(app, options).run()\n    │                   │    └ {'bind': '0.0.0.0:7860', 'workers': 1, 'timeout': 300, 'worker_class': 'langflow.server.LangflowUvicornWorker', 'logger_class...\n    │                   └ <fastapi.applications.FastAPI object at 0x79f5164fca00>\n    └ <class 'langflow.server.LangflowApplication'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/app/base.py\", line 72, in run\n    Arbiter(self).run()\n    │       └ <langflow.server.LangflowApplication object at 0x79f52c80fa90>\n    └ <class 'gunicorn.arbiter.Arbiter'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 202, in run\n    self.manage_workers()\n    │    └ <function Arbiter.manage_workers at 0x79f515908ee0>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 571, in manage_workers\n    self.spawn_workers()\n    │    └ <function Arbiter.spawn_workers at 0x79f515909000>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 642, in spawn_workers\n    self.spawn_worker()\n    │    └ <function Arbiter.spawn_worker at 0x79f515908f70>\n    └ <gunicorn.arbiter.Arbiter object at 0x79f515a86080>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/arbiter.py\", line 609, in spawn_worker\n    worker.init_process()\n    │      └ <function UvicornWorker.init_process at 0x79f5159bfeb0>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 68, in init_process\n    super().init_process()\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/gunicorn/workers/base.py\", line 142, in init_process\n    self.run()\n    │    └ <function UvicornWorker.run at 0x79f5159e4160>\n    └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/uvicorn/workers.py\", line 100, in run\n    return asyncio.run(self._serve())\n           │       │   │    └ <function LangflowUvicornWorker._serve at 0x79f5159e4280>\n           │       │   └ <langflow.server.LangflowUvicornWorker object at 0x79f5164fca90>\n           │       └ <function _patch_asyncio.<locals>.run at 0x79f5159e4790>\n           └ <module 'asyncio' from '/root/miniconda3/envs/langflow/lib/python3.10/asyncio/__init__.py'>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n           │    │                  └ <coroutine object LangflowUvicornWorker._serve at 0x79f515927990>\n           │    └ <function _patch_loop.<locals>.run_until_complete at 0x79f5157c0e50>\n           └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 636, in run_until_complete\n    self.run_forever()\n    │    └ <function _patch_loop.<locals>.run_forever at 0x79f5157c0dc0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/base_events.py\", line 603, in run_forever\n    self._run_once()\n    │    └ <function _patch_loop.<locals>._run_once at 0x79f5157c0ee0>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/nest_asyncio.py\", line 133, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x79f52c70a320>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/events.py\", line 80, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.__wakeup(<Future finis...api_key=None)>)>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 315, in __wakeup\n    self.__step()\n    └ <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMid...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/asyncio/tasks.py\", line 232, in __step\n    result = coro.send(None)\n             │    └ <method 'send' of 'coroutine' objects>\n             └ <coroutine object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro at 0x79f4eed81a80>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4eed551b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n          └ <langflow.main.JavaScriptMIMETypeMiddleware object at 0x79f5157b5270>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n          │    │               │      │        │                     └ Headers({'host': '34.172.47.24:7860', 'connection': 'keep-alive', 'content-length': '0', 'accept': 'application/json, text/pl...\n          │    │               │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x79f4eed551b0>\n          │    │               │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │               └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function CORSMiddleware.simple_response at 0x79f52b3630a0>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 148, in simple_response\n    await self.app(scope, receive, send)\n          │    │   │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 65, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ functools.partial(<bound method CORSMiddleware.send of <starlette.middleware.cors.CORSMiddleware object at 0x79f5157b52d0>>, ...\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │                            │    │    │     └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    │    └ <starlette.requests.Request object at 0x79f5109efc40>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x79f5157b5450>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 756, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x79f5164fd030>>\n          └ <fastapi.routing.APIRouter object at 0x79f5164fd030>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 776, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │     └ <function Route.handle at 0x79f52b31a050>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 297, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │    └ <function request_response.<locals>.app at 0x79f5164c1120>\n          └ APIRoute(path='/api/v1/build/{flow_id}/vertices/{vertex_id}', name='build_vertex', methods=['POST'])\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 77, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed548b0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │                            │    │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          │                            │    └ <starlette.requests.Request object at 0x79f5109eec50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x79f4eed56d40>\n          └ <function wrap_app_handling_exceptions at 0x79f52b3188b0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x79f4eed55a20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x79f4eed55b40>\n          │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.4'}, 'http_version': '1.1', 'server': ('10.128.0.2', 7860), 'c...\n          └ <function request_response.<locals>.app.<locals>.app at 0x79f4eed56d40>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/starlette/routing.py\", line 72, in app\n    response = await func(request)\n                     │    └ <starlette.requests.Request object at 0x79f5109eec50>\n                     └ <function get_request_handler.<locals>.app at 0x79f5164c13f0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 278, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x79f52b31aef0>\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'chat_service': <langflow.services.chat.service.ChatService object at 0x79f510152350>, 'current_user': User(username='langfl...\n                 │         └ <function build_vertex at 0x79f51675da20>\n                 └ <fastapi.dependencies.models.Dependant object at 0x79f5164fed10>\n> File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py\", line 164, in build_vertex\n    ) = await graph.build_vertex(\n              │     └ <function Graph.build_vertex at 0x79f51684acb0>\n              └ Graph:\n                Nodes: ['ChatInput-gcAie', 'VertexAiModel-V1iDG', 'VertexAIEmbeddings-hG1Gr', 'Prompt-L6dcI', 'AstraDBSearch-iYFVs', '...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 707, in build_vertex\n    raise exc\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/graph/base.py\", line 691, in build_vertex\n    await vertex.build(user_id=user_id, inputs=inputs_dict)\n          │      │             │               └ {}\n          │      │             └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │      └ <function Vertex.build at 0x79f51789d7e0>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 701, in build\n    await step(user_id=user_id, **kwargs)\n          │            │          └ {}\n          │            └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          └ <bound method Vertex._build of Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 400, in _build\n    await self._get_and_instantiate_class(user_id)\n          │    │                          └ UUID('55d056d0-d00d-47d6-b833-036731bbbc84')\n          │    └ <function Vertex._get_and_instantiate_class at 0x79f51789d480>\n          └ Vertex(display_name=Vertex AI, id=VertexAiModel-V1iDG, data={'type': 'VertexAiModel', 'node': {'template': {'examples': {'typ...\n  File \"/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/graph/vertex/base.py\", line 625, in _get_and_instantiate_class\n    raise ValueError(f\"Error building vertex {self.display_name}: {str(exc)}\") from exc\n\nValueError: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.\n", "record": {"elapsed": {"repr": "0:00:36.825195", "seconds": 36.825195}, "exception": {"type": "ValueError", "value": "Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "traceback": true}, "extra": {}, "file": {"name": "chat.py", "path": "/root/miniconda3/envs/langflow/lib/python3.10/site-packages/langflow/api/v1/chat.py"}, "function": "build_vertex", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 174, "message": "Error building vertex: Error building vertex Vertex AI: To use the ChatVertexAI model, you need to install the langchain-google-vertexai package.", "module": "chat", "name": "langflow.api.v1.chat", "process": {"id": 36423, "name": "MainProcess"}, "thread": {"id": 134093953877056, "name": "MainThread"}, "time": {"repr": "2024-05-07 21:53:47.019086+00:00", "timestamp": 1715118827.019086}}}
